<!DOCTYPE html>
<html lang="en">
    <%- include('./partials/head.ejs') %>
<body>
    <%- include('./partials/nav.ejs') %>

    <div class="hall content">
        <div class="grid-item">
            <form action="/the_hall" method="POST">
                <h3>Cr√©er un post</h3>
                <label for="pseudo">Pseudo : </label>
                <input type="text" name="pseudo" id="pseudo" required>
    
                <label for="title">Titre : </label>
                <input type="text" name="title" id="title" required>
    
                <label for="body">Contenu : </label>
                <textarea name="body" id="body" cols="30" rows="10" required></textarea>
    
                <button type="submit"><span class="fas fa-plus"></span></button>
            </form>
        </div>
        
        <br>
        
        <div class="grid-item posts">
            <h3>Tes posts</h3>
            <% if (posts.length > 0) { %>
                <% posts.forEach(post => { %>
                    <div class="single">
                        <div class="details">
                            <p class="pseudo" style="font-style: italic;"><%= post.pseudo %></p>
                            <h4 class="title"><%= post.title %></h4>
                            <p class="body"><%= post.body %></p>    
                        </div>
                        
                        <div class="icons">
                            <a href="/the_hall/<%= post._id %>" style="color: green;"><span class="fas fa-edit"></span></a>
                        </div>
                    </div>
                <% }); %>
            <% } else { %>
                <p>Pas de posts...</p>
            <% } %>
        </div>
    </div>
</body>
</html>